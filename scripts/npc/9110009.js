var status;
			var itemList = new Array(3010000, 3010002, 3010003, 3010004, 3010005, 3010006, 3010007, 3010008, 3010010, // 9
			3010011, 3010012, 3010013, 3010014, 3010015, 3010016, 3010017, 3010018, 3010019, 3010021, 3010025, 3010035, // 12
			3010036, 3010041, 3010046, 3010047, 3010049, 3010053, 3010055, 3010057, 3010057, 3010060, 3010061, 3010062, // 12
			3010063, 3010064, 3010065, 3010066, 3010067, 3010068, 3010069, 3010072, 3010075, 3010077, 3010080, 3010093, // 12
			3010096, 3010097, 3010098, 3010099, 3010106, 3010107, 3010108, 3010109, 3010110, 3010112, 3010115, 3010116, // 12
			3010119, 3010124, 3010125, 3010129, 3010130, 3010131, 3010132, 3010133,  3010134, 3010136, 3010137, // 11
			3010138, 3010139, 3010140, 3010152, 3010154, 3010155, 3010156, 3010157, 3010169, 3010171, 3010172, 3010175, // 12
			3010179, 3010183, 3010184, 3010186, 3010189, 3010196, 3010197, 3010200, 3010201, 3010202, 3010203, 3010205, // 12
			3010206, 3010208, 3010211, 3010215, 3010216, 3010218, 3010222, 3010224, 3010228, 3010229, 3010231, 3010232, // 12
			3010233, 3010238, 3010240, 3010241, 3010243, 3010244, 3010245, 3010246, 3010248, 3010249, 3010250, 3010251, // 12
			3010252, 3010253, 3010254, 3010256, 3010257, 3010282, 3010283, 3010286, 3010287, 3010288, 3010289, 3010290, // 12
			3010297, 3010298, 3010308, 3010314, 3010315, 3010316, 3010317, 3010318, 3010319, 3010320,  3010354, 3010358, // 12
			3010359, 3010360, 3010364, 3010372, 3010403, 3010404, 3010410, 3010422, 3010425, 3011000, 3012006, 3013000, 3013002); // 13
			
function start() {
status = -1;
action(1, 0, 0);
}

function action(mode, type, selection) {

if (mode == -1) {
cm.dispose();
}
else {
if (status == 0 && mode == 0) {
cm.dispose();
return;
    }
}

if (mode == 1) 
   status++;

else 
   status--;
    if (status == 0) { 
        if (cm.haveItem(5680021)) {
            cm.sendYesNo("I see you have a #v5680021# #gChair Gachapon Ticket#k there.\r\nWould you like to try your luck?");
        } else {
            cm.sendOk("You need a #v5680021# #r#t5680021##k and you don't have a single ticket with you.");
            cm.dispose();
        }
		}else if (status == 1) {
          var item = cm.gainGachaponItem(itemList[Math.floor(Math.random() * itemList.length)], 1);
        if (item != -1) {
            cm.gainItem(5680021, -1);
            cm.sendOk("You have obtained #g#t" + item + "##k. #i" + item + "#");
        } else {
            cm.sendOk("Please check your cash inventory and see if you have the ticket or if your set-up inventory is full.");
        }
        cm.safeDispose();
    }
	}